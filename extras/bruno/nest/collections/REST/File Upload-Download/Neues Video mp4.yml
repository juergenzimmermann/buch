info:
  name: Neues Video mp4
  type: http
  seq: 2

http:
  method: POST
  url: "{{restUrl}}/:id"
  headers:
    - name: ""
      value: ""
      disabled: true
  params:
    - name: id
      value: "1"
      type: path
  body:
    type: multipart-form
    data:
      - name: file
        type: file
        value:
          - C:\workspace\software-engineering\nest\extras\bruno\video.mp4
  auth:
    type: oauth2
    flow: resource_owner_password_credentials
    accessTokenUrl: "{{oidcTokenUrl}}"
    credentials:
      clientId: "{{clientId}}"
      clientSecret: "{{clientSecret}}"
      placement: body
    resourceOwner:
      username: "{{username}}"
      password: "{{password}}"
    tokenConfig:
      id: credentials
      placement:
        header: Bearer
    settings:
      autoFetchToken: true
      autoRefreshToken: false

runtime:
  assertions:
    - expression: res.status
      operator: eq
      value: "204"
    - expression: res.headers.location
      operator: matches
      value: \/rest\/file\/[1-9]\d*
    - expression: res.body
      operator: isString
    - expression: res.body
      operator: isEmpty

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5
